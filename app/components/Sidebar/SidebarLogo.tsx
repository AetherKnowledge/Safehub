"use client";
import { AnimatePresence, motion } from "motion/react";

type SidebarLogoProps = {
  isLarge: boolean;
};

const SidebarLogo = ({ isLarge }: SidebarLogoProps) => {
  return (
    <div className="flex w-full items-center justify-center pt-2 overflow-hidden">
      <motion.svg
        height={35}
        viewBox="0 3 115 30"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
        className="shrink-0"
      >
        <motion.g
          animate={{ x: isLarge ? 0 : 31.5 }} // shift left when collapsed
          transition={{ duration: 0.3, ease: "easeInOut" }}
        >
          {/* Heart - always visible */}
          <g>
            <path
              d="M42.6538 14.4998C42.3645 16.0226 41.6304 17.4773 40.4517 18.656L26.7954 32.3132L18.9819 24.4998H26.4937C29.3477 24.4995 31.0012 21.2667 29.3315 18.9519L26.6919 15.2927C26.4538 14.9622 26.6899 14.5002 27.0972 14.4998H42.6538ZM29.1382 7.34253C32.2623 4.21842 37.3274 4.2186 40.4517 7.34253C41.6305 8.52136 42.3646 9.97676 42.6538 11.4998H27.0972C24.2434 11.5002 22.59 14.7329 24.2593 17.0476L26.8989 20.7068C27.1374 21.0374 26.9012 21.4995 26.4937 21.4998H15.9819L13.1382 18.656C10.0142 15.5318 10.0141 10.4666 13.1382 7.34253C16.2623 4.21842 21.3274 4.2186 24.4517 7.34253L26.7954 9.68628L29.1382 7.34253Z"
              fill="#059669"
            />
          </g>

          {/* Text + Box - animated */}
          <AnimatePresence initial={false}>
            {isLarge && (
              <motion.g
                key="logo-text"
                initial={{ clipPath: "inset(0 100% 0 0)" }}
                animate={{ clipPath: "inset(0 0% 0 0)" }}
                exit={{ clipPath: "inset(0 100% 0 0)" }}
                transition={{ duration: 0.3, ease: "easeInOut" }}
              >
                <path
                  d="M38.7954 24.4998L44.6835 18.2571C45.6811 17.1995 47.4379 17.5258 47.9891 18.8711L50.2954 24.4998"
                  stroke="#059669"
                  strokeWidth="2"
                  strokeLinecap="round"
                />
                <path
                  d="M41.7954 21.714H49.0089"
                  stroke="#059669"
                  strokeWidth="1.5"
                  strokeLinecap="round"
                />
                <path
                  d="M53.7954 20.9998H57.9621"
                  stroke="#059669"
                  strokeWidth="1.5"
                  strokeLinecap="round"
                />
                <path
                  d="M58.7954 17.9998H55.7954C54.6908 17.9998 53.7954 18.8952 53.7954 19.9998V26.9998"
                  stroke="#059669"
                  strokeWidth="2"
                  strokeLinecap="round"
                />
                <path
                  d="M61.7954 20.9998H66.7954"
                  stroke="#059669"
                  strokeWidth="1.5"
                  strokeLinecap="round"
                />
                <path
                  d="M67.7954 17.9998H63.7954C62.6908 17.9998 61.7954 18.8952 61.7954 19.9998V21.9998C61.7954 23.1043 62.6908 23.9998 63.7954 23.9998H67.7954"
                  stroke="#059669"
                  strokeWidth="2"
                  strokeLinecap="round"
                />
                <path
                  d="M36.7954 27.2498L73.0454 27.2498"
                  stroke="#059669"
                  strokeWidth="1.5"
                  strokeLinecap="round"
                />
                <path
                  d="M101.795 7.99976C102.9 7.99976 103.795 8.89519 103.795 9.99976V25.9998C103.795 27.1043 102.9 27.9998 101.795 27.9998H71.7954C70.6908 27.9998 69.7954 27.1043 69.7954 25.9998V9.99976C69.7954 8.89519 70.6908 7.99976 71.7954 7.99976H101.795ZM80.7954 9.99976C80.2431 9.99976 79.7954 10.4475 79.7954 10.9998V15.9998H73.7954V10.9998C73.7954 10.4475 73.3477 9.99976 72.7954 9.99976C72.2431 9.99976 71.7954 10.4475 71.7954 10.9998V23.9998C71.7954 24.552 72.2431 24.9998 72.7954 24.9998C73.3477 24.9998 73.7954 24.552 73.7954 23.9998V17.9998H79.7954V23.9998C79.7954 24.552 80.2431 24.9998 80.7954 24.9998C81.3477 24.9998 81.7954 24.552 81.7954 23.9998V10.9998C81.7954 10.4475 81.3477 9.99976 80.7954 9.99976ZM90.7954 16.9998C90.2431 16.9998 89.7954 17.4475 89.7954 17.9998V21.9998C89.7954 22.552 89.3477 22.9998 88.7954 22.9998H86.7954C86.2431 22.9998 85.7954 22.552 85.7954 21.9998V17.9998C85.7954 17.4475 85.3477 16.9998 84.7954 16.9998C84.2431 16.9998 83.7954 17.4475 83.7954 17.9998V21.9998C83.7954 23.6566 85.1386 24.9998 86.7954 24.9998H88.7954C90.4523 24.9998 91.7954 23.6566 91.7954 21.9998V17.9998C91.7954 17.4475 91.3477 16.9998 90.7954 16.9998ZM94.7954 11.9998C94.2431 11.9998 93.7954 12.4475 93.7954 12.9998V21.9998C93.7954 23.6566 95.1386 24.9998 96.7954 24.9998H98.7954C100.452 24.9998 101.795 23.6566 101.795 21.9998V19.9998C101.795 18.3429 100.452 16.9998 98.7954 16.9998H95.7954V12.9998C95.7954 12.4475 95.3477 11.9998 94.7954 11.9998ZM98.7954 18.9998C99.3477 18.9998 99.7954 19.4475 99.7954 19.9998V21.9998C99.7954 22.552 99.3477 22.9998 98.7954 22.9998H96.7954C96.2431 22.9998 95.7954 22.552 95.7954 21.9998V18.9998H98.7954Z"
                  fill="#059669"
                />
              </motion.g>
            )}
          </AnimatePresence>
        </motion.g>
      </motion.svg>
    </div>
  );
};

export default SidebarLogo;
